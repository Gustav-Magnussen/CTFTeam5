## 4001 - Connection Established

![oppgave1-lab4](https://user-images.githubusercontent.com/46780028/160909838-0c82df23-ca60-4cc9-8aec-ce8d6945b3a7.PNG)

In order to establish a connection to the machine and the correct port, we use NetCat to connect to the port. This is done by using the command `nc`, followed by the target ip and the port to be used.

To be able to confirm that the port has been scanned and that the target machine has been accessed, we use the command `whoami` to be able to see who we are and which privileges can be used. Then `ls` is used to list the available files, including `flag.txt`.

Finally, "cat" is used on `flag.txt` file to open it, thereby revealing the flag.


## 4003 - All Strings Attached

This task includes the reversing of a binary file called task3. Running this file displays the greater than symbol, `>`, and seems to ask for user input. Giving user input seems to make the code response with `00ps_d1d_i_m444k33-3rrrr_-it_h4rd_with_ErrR0r-str11nnnzno`. 

![image](https://user-images.githubusercontent.com/59768512/161131323-031f6bca-855f-4ad2-9004-533cee3a3681.png)

This could mean that giving correct user input, or a correct password, would provide another outcome. In order to get an idea of what the this correct input would be the file is opened in IDA Freeware, a tool that is capable of analysing binary files and attempt to recreate what the original C code file looked like before compilation. When the file is opened, psuedocode  can be generated by hitting the `F5` key. This will provide IDA's recreation of how the C code file  originally looked. This psuedocode includes a numbher of strings that is set to a number of different values including parts of what is displayed when providing wrong input. Some of these are strings are used in the password, but as the task mentions, some of these are also false. 

![image](https://user-images.githubusercontent.com/46780028/160911603-3691bb57-8752-4a26-b3cc-273604ea5573.png)

Looking at line 28 the executable seems to provide a shell if the `s` variable is equal to the `s2` variable. Line 25 shows that the `s` variable is what the user enters using `stdin`, this variable is therefore named `input`.  From line 24 the `s2` value seems to be the combined string of variables `v4`, `v8` and `&v8[9]`, given that this is the string needed to pass the boolean expression this is renamed to `password`. In order for this code to make a little more sense the variable `v4` is given the name `first` while the `v8` variable is given the name `second`. In line 23 the value for the `second` varaiable, the value `dr4h_ti-` is reveresed. When reversed the string changes to `-it_h4rd`. When the three selected strings are successfully connected, the the final `password` variable; `00ps_d1d_i_m444k33-3rrrr_-it_h4rd_with_ErrR0r-str11nnnz`.

![image](https://user-images.githubusercontent.com/59768512/161133422-eedc38ea-25e2-4d93-8e9c-1ac4a13cbd31.png)

Using this `password` variable as the input when prompted provides a shell on the target machine. Looking at the files contained in the current directory the `cat` command can be used on the `flag.txt` file to reveal the flag.

![image](https://user-images.githubusercontent.com/46780028/161066318-b988b0fe-1f7d-4618-93fa-ab984b7887ae.png)

>**Flag:`IKT449{siml33_mag1c_w00rd}`**
 
